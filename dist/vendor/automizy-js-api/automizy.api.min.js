(function(a){var b={};(function(){b=new function(){var c=this;c.xhr={},c.url={},c.events={},c.d={version:"0.1.0",login:false,hasOpenLoginForm:true,lastAjaxData:{},data:{},ad:{error:function(c,d,e){if(3===arguments.length)if(a.inArray(c.status,[404,405])>=0)alert(c.status+" ("+e+")");else if(a.inArray(c.status,[403])>=0)b.d.lastAjaxData=this,b.openLoginDialog();else if(a.inArray(c.status,[400,401])>=0)alert(c.status+" ("+e+")"),b.openLoginDialog();else console.error(c.status,d,e);else console.log("<----------- Automizy Api Error"),console.log(c),console.log(d),console.log(e),console.log("Automizy Api Error ----------->"),b.openLoginDialog()}}};var d=window.automizyApiBaseUrl||window.AutomizyBaseApiUrl||"https://api.automizy.com";var e=window.automizyApiLoginPhp||window.AutomizyLoginApiUrl||"https://login.automizy.com/api/login.php";var f=window.automizyApiRefreshPhp||window.AutomizyRefreshApiUrl||"https://login.automizy.com/api/refresh.php";c.m=[]}})(),function(){b.baseUrl=function(a){if("undefined"!==typeof a)return b.url.base=a,b;return b.url.base},b.createUrl=function(a){if("undefined"===typeof b.url[a])b.url[a]={urlOrApiName:"",useBaseUrl:false};return b[a+"Url"]=function(c,d){if("undefined"!==typeof c)return b.url[a].urlOrApiName=c,b.url[a].useBaseUrl=d||false,b;return b.url[a].useBaseUrl?b.baseUrl()+"/"+b.url[a].urlOrApiName:b.url[a].urlOrApiName},b[a+"Url"]},b.baseUrl(window.automizyApiBaseUrl||window.AutomizyBaseApiUrl||"https://api.automizy.com"),b.createUrl("login")(window.automizyApiLoginPhp||window.AutomizyLoginApiUrl||"https://login.automizy.com/api/login.php"),b.createUrl("refresh")(window.automizyApiRefreshPhp||window.AutomizyRefreshApiUrl||"https://login.automizy.com/api/refresh.php"),b.createUrl("oauth")("oauth",true),b.createUrl("images")("images",true),b.createUrl("emaileditorImages")("images?directory=emaileditor",true),b.createUrl("emailPreview")("email-preview",true),b.createUrl("loginPage")(window.AutomizyLoginPageUrl||"https://login.automizy.com")}(),function(){b.cookie=function(){function a(){var a=0;var b={};for(;a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d]}return b}function b(c){function d(b,e,f){var g;if(arguments.length>1){if(f=a({path:"/"},d.defaults,f),"number"===typeof f.expires){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*f.expires),f.expires=h}try{if(g=JSON.stringify(e),/^[\{\[]/.test(g))e=g}catch(i){}return e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),b=encodeURIComponent(String(b)),b=b.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),b=b.replace(/[\(\)]/g,escape),document.cookie=[b,"=",e,f.expires&&"; expires="+f.expires.toUTCString(),f.path&&"; path="+f.path,f.domain&&"; domain="+f.domain,f.secure&&"; secure"].join("")}if(!b)g={};var j=document.cookie?document.cookie.split("; "):[];var k=/(%[0-9A-Z]{2})+/g;var l=0;for(;l<j.length;l++){var m=j[l].split("=");var n=m[0].replace(k,decodeURIComponent);var o=m.slice(1).join("=");if('"'===o.charAt(0))o=o.slice(1,-1);if(o=c&&c(o,n)||o.replace(k,decodeURIComponent),this.json)try{o=JSON.parse(o)}catch(i){}if(b===n){g=o;break}if(!b)g[n]=o}return g}return d.get=d.set=d,d.getJSON=function(){return d.apply({json:true},[].slice.call(arguments))},d.defaults={},d.remove=function(b,c){d(b,"",a(c,{expires:-1}))},d.withConverter=b,d}return b()}()}(),function(){b.date={},b.date.now=function(){return(new Date).getTime()},b.date.timestamp=function(){return Math.floor(b.date.now()/1e3)}}(),function(){var c=function(){var a=this;a.d={access_token:b.cookie.get("AutomizyApiAccessToken")||false,refresh_token:b.cookie.get("AutomizyApiRefreshToken")||false,client_id:b.cookie.get("AutomizyApiClientId")||false,username:b.cookie.get("AutomizyApiUsername")||false,expires:parseInt(b.cookie.get("AutomizyApiExpires"))||0,scope:b.cookie.get("AutomizyApiScope")||null,token_type:b.cookie.get("AutomizyApiTokenType")||"Bearer",error:function(){},success:function(){},loginError:function(){},loginAjaxError:function(){},loginAjaxSuccess:function(){},refreshAjaxError:function(){},refreshAjaxSuccess:function(){},refreshLoopTimeout:false}};var d=c.prototype;d.refreshLoop=function(){var a=this;if(b.date.timestamp()>parseInt(b.cookie.get("AutomizyApiExpires"))-120)a.refresh();clearTimeout(a.d.refreshLoopTimeout),a.d.refreshLoopTimeout=setTimeout(function(){a.refreshLoop()},3e4)},d.refreshLoopStop=function(){var a=this;clearTimeout(a.d.refreshLoopTimeout)},d.refreshLoopStart=function(){var a=this;a.refreshLoop()},d.refreshLoopRestart=function(){var a=this;a.refreshLoopStop(),a.refreshLoopStart()},d.loggedIn=function(a){var c=this;if("undefined"!==typeof a)return c.d.loggedIn=b.parseBoolean(a),c;return c.d.loggedIn},d.get=function(){var a=this;if(false!==b.cookie.get("AutomizyApiAccessToken"))a.loggedIn(true),a.refreshLoopRestart();else a.refreshLoopStop(),a.loggedIn(false);return b.cookie.get("AutomizyApiAccessToken")},d.set=function(a){var c=this;if("undefined"!==typeof a.access_token)c.d.access_token=a.access_token,b.cookie.set("AutomizyApiAccessToken",a.access_token,c.cookieAttributes());if("undefined"!==typeof a.expires_in)c.d.expires=b.date.timestamp()+parseInt(a.expires_in)-10,b.cookie.set("AutomizyApiExpires",c.d.expires,c.cookieAttributes());if("undefined"!==typeof a.refresh_token)c.d.refresh_token=a.refresh_token,b.cookie.set("AutomizyApiRefreshToken",a.refresh_token,c.cookieAttributes());if("undefined"!==typeof a.scope)if(c.d.scope=a.scope,false!==c.d.scope)b.cookie.set("AutomizyApiScope",a.scope,c.cookieAttributes());if("undefined"!==typeof a.token_type)c.d.token_type=a.token_type,b.cookie.set("AutomizyApiTokenType",a.token_type,c.cookieAttributes());if("undefined"!==typeof a.client_id)c.d.client_id=a.client_id,b.cookie.set("AutomizyApiClientId",a.client_id,c.cookieAttributes());if("undefined"!==typeof a.username)c.d.username=a.username,b.cookie.set("AutomizyApiUsername",a.username,c.cookieAttributes());return true},d.refresh=function(){var c=this;return a.ajax({type:"POST",url:b.refreshUrl(),data:{refresh_token:b.cookie.get("AutomizyApiRefreshToken"),username:b.cookie.get("AutomizyApiUsername"),admin:1==b.cookie.get("automizyAdminUser")},success:function(a,b,d){c.set(a),c.loggedIn(true),c.refreshAjaxSuccess.apply(c,[a,b,d])},error:function(a,b,d){c.refreshAjaxError.apply(c,[a,b,d])}})},d.error=function(a){var b=this;if("function"===typeof a)return b.d.error=a,b;return b.d.error},d.success=function(a){var b=this;if("function"===typeof a)return b.d.success=a,b;return b.d.success},d.loginError=function(a){var b=this;if("function"===typeof a)return b.d.loginError=a,b;return b.d.loginError},d.loginAjaxError=function(a){var b=this;if("function"===typeof a)return b.d.loginAjaxError=a,b;return b.d.loginAjaxError},d.loginAjaxSuccess=function(a){var b=this;if("function"===typeof a)return b.d.loginAjaxSuccess=a,b;return b.d.loginAjaxSuccess},d.refreshAjaxError=function(a){var b=this;if("function"===typeof a)return b.d.refreshAjaxError=a,b;return b.d.refreshAjaxError},d.refreshAjaxSuccess=function(a){var b=this;if("function"===typeof a)return b.d.refreshAjaxSuccess=a,b;return b.d.refreshAjaxSuccess},d.passwordLogin=function(c){var d=this;var c=c||{};if(c.username=c.username||false,c.password=c.password||false,c.hash=c.hash||false,false===c.username||false===c.password)return d.loginError.apply(d,["The username and password must be provide!"]),false;b.cookie.set("AutomizyApiUsername",c.username,d.cookieAttributes()),b.cookie.set("automizyLoginPageUrl",b.loginPageUrl(),d.cookieAttributes());var e={username:c.username,password:c.password};if(false!==c.hash)e.hash=c.hash;return a.ajax({type:"POST",url:b.loginUrl(),data:e,success:function(a,b,c){d.set(a),d.loggedIn(true),d.refreshLoopRestart(),d.d.loginAjaxSuccess.apply(d,[a,b,c])},error:function(a,b,c){d.d.loginAjaxError.apply(d,[a,b,c])}})},d.credentialsLogin=function(c){var d=this;var c=c||{};if(c.clientId=c.clientId||false,c.clientSecret=c.clientSecret||false,c.hash=c.hash||false,false===c.clientId||false===c.clientSecret)return d.loginError.apply(d,["The clientId and clientSecret must be provide!"]),false;var e={grant_type:"client_credentials",client_id:c.clientId,client_secret:c.clientSecret};if(false!==c.hash)e.hash=c.hash;return a.ajax({type:"POST",url:b.oauthUrl(),data:e,success:function(a,b,c){d.set(a),d.loggedIn(true),d.refreshLoopRestart(),d.d.loginAjaxSuccess.apply(d,[a,b,c])},error:function(a,b,c){d.d.loginAjaxError.apply(d,[a,b,c])}})},d.tokenLogin=function(c){var d=this;if(c=c||false,false===c)return d.loginError.apply(d,["The token must be provide!"]),false;return a.ajax({type:"GET",url:b.baseUrl()+"/ping",headers:{Authorization:"Bearer "+c},success:function(a,b,e){d.set({access_token:c,expires_in:14967468700}),d.loggedIn(true),d.refreshLoopRestart(),d.d.loginAjaxSuccess.apply(d,[a,b,e])},error:function(a,b,c){d.d.loginAjaxError.apply(d,[a,b,c])}})},d.login=function(a){var b=this;var a=a||{};if("undefined"!==typeof a.username&&"undefined"!==typeof a.password)return b.passwordLogin(a);else if("undefined"!==typeof a.clientId&&"undefined"!==typeof a.clientSecret)return b.credentialsLogin(a);else return b.loginError.apply(b,["Missing parameters!"]),false},d.cookieAttributes=function(){var a={};if(location.host.indexOf(".protopmail.com")>=0)a.domain=".protopmail.com";else if(location.host.indexOf(".automizy.com")>=0)a.domain=".automizy.com";else a.domain=location.hostname;return a},d.logout=function(){var a=this;a.loggedIn(false),a.refreshLoopStop(),a.d.access_token=false,a.d.refresh_token=false,a.d.username=false,a.d.client_id=false,a.d.expires=0,b.cookie.remove("AutomizyApiAccessToken",a.cookieAttributes()),b.cookie.remove("AutomizyApiRefreshToken",a.cookieAttributes()),b.cookie.remove("AutomizyApiClientId",a.cookieAttributes()),b.cookie.remove("AutomizyApiExpires",a.cookieAttributes()),b.cookie.remove("AutomizyApiUsername",a.cookieAttributes())},b.m.Token=c,b.d.token=new c,b.token=function(){return b.d.token}}(),function(){b.initBasicFunctions=function(c,d,e){var c=c||false;if(false===c)return false;var d=d||false;if(false===d)return false;var f=d.toLowerCase();var g=d.charAt(0).toLowerCase()+d.slice(1);var e=e||{};var h=c.prototype;h.init=h.init||function(){var a=this;if(a.d=a.d||{},a.d.option=a.d.option||{},a.d.events=a.d.events||{},a.d.xhr=a.d.xhr||{},a.d.xhr.get=false,a.d.xhr.insert=false,a.d.xhr.update=false,a.d.xhr["delete"]=false,a.d.xhr["export"]=false,a.d.xhr.getAll=false,a.d.xhr.getRecordById=false,a.d.xhr.getFieldById=false,a.d.xhr.getAllIdNamePair=false,"undefined"===typeof a.d.urlSuffix)a.d.urlSuffix="";if("undefined"===typeof a.d.itemsDir)a.d.itemsDir=false;if("undefined"===typeof a.d.fields)a.d.fields=false;if("undefined"===typeof a.d.format)a.d.format=false;if("undefined"===typeof a.d.limit)a.d.limit=false;if("undefined"===typeof a.d.searchFor)a.d.searchFor=false;if("undefined"===typeof a.d.page)a.d.page=false;if("undefined"===typeof a.d.order_by)a.d.order_by=false;if("undefined"===typeof a.d.order_dir)a.d.order_dir=false;if("undefined"===typeof a.d.links)a.d.links=false;if("undefined"===typeof a.d.set)a.d.set={};if("undefined"===typeof a.d.hasEmbedded)a.d.hasEmbedded=true;if("undefined"===typeof a.d.hasId)a.d.hasId=true;if("undefined"===typeof a.d.parentName)a.d.parentName=g;if("undefined"===typeof a.d.customParameters)a.d.customParameters={}},h.initParameter=h.initParameter||function(a){var b=this;if("undefined"!==typeof a.urlSuffix)b.urlSuffix(a.urlSuffix);if("undefined"!==typeof a.itemsDir)b.itemsDir(a.itemsDir);if("undefined"!==typeof a.format)b.format(a.format);if("undefined"!==typeof a.fields)b.fields(a.fields);if("undefined"!==typeof a.limit)b.limit(a.limit);if("undefined"!==typeof a.searchFor)b.searchFor(a.searchFor);if("undefined"!==typeof a.page)b.page(a.page);if("undefined"!==typeof a.orderBy||"undefined"!==typeof a.order_by)b.orderBy(a.orderBy||a.order_by);if("undefined"!==typeof a.orderDir||"undefined"!==typeof a.order_dir)b.orderDir(a.orderDir||a.order_dir);if("undefined"!==typeof a.order)b.order(a.order);if("undefined"!==typeof a.links)b.links(a.links);if("undefined"!==typeof a.customParameters)b.customParameters(a.customParameters)},h.setOptions=h.setOptions||function(a){if("undefined"!==typeof a.fields)t.d.option.fields=a.fields;if("undefined"!==typeof a.format)t.d.option.format=a.format;if("undefined"!==typeof a.limit)t.d.option.limit=a.limit;if("undefined"!==typeof a.searchFor)t.d.option.searchFor=a.searchFor;if("undefined"!==typeof a.page)t.d.option.page=a.page;if("undefined"!==typeof a.where)t.d.option.where=a.where;if("undefined"!==typeof a.order_by)t.d.option.order_by=a.order_by;if("undefined"!==typeof a.order_dir)t.d.option.order_dir=a.order_dir;if("undefined"!==typeof a.order)t.d.option.order=a.order;if("undefined"!==typeof a.links)t.d.option.links=a.links;if("undefined"!==typeof a.customParameters)t.d.option.customParameters=a.customParameters},h.getDataFromParameter=h.getDataFromParameter||function(a){var b={};if(false!==a.fields)b.fields=a.fields;if(false!==a.format)b.format=a.format;if(false!==a.limit)b.limit=a.limit;if(false!==a.searchFor)b.searchFor=a.searchFor;if(false!==a.page)b.page=a.page;if(false!==a.where)b.where=a.where;if(false!==a.order_dir)b.order_dir=a.order_dir;if(false!==a.order_by)b.order_by=a.order_by;if(false!==a.order)b.order=a.order;if(false!==a.links)b.links=a.links;if(false!==a.customParameters)b.customParameters=a.customParameters;return b},h.get=h.get||function(c,d,e){var f=this;var d=true;if("undefined"!==typeof e)e=b.parseBoolean(e);else var e=true;if("undefined"!==typeof d)d=b.parseBoolean(d);if(d&&("object"===typeof c||"array"===typeof c))f.setOptions(c);var h={};if("object"===typeof c||"array"===typeof c)h=f.getDataFromParameter(c);else for(var i in f.d.option)if(false!==f.d.option[i])h[i]=f.d.option[i];if("undefined"===typeof h.order&&"undefined"!==typeof h.order_by)h.order=h.order_by+":"+h.order_dir||"asc";var j=f.customParameters();for(var i in j)h[i]=j[i];if(f.d.xhr.get=a.ajax({url:b[g+"Url"]()+f.d.urlSuffix,type:"GET",dataType:"json",async:e,data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),!e)return f.d.xhr.get.responseJSON;return f.d.xhr.get},h.getSync=h.getSync||function(a,b){var a=a||false;var b=b||false;return this.get.apply(this,[a,b,false])},h["export"]=h["export"]||function(c,d,e){var f=this;var d=true;if("undefined"!==typeof e)e=b.parseBoolean(e);else var e=true;if("undefined"!==typeof d)d=b.parseBoolean(d);if(d&&("object"===typeof c||"array"===typeof c))f.setOptions(c);var h={};if("object"===typeof c||"array"===typeof c)h=f.getDataFromParameter(c);else for(var i in f.d.option)if(false!==f.d.option[i])h[i]=f.d.option[i];if("undefined"===typeof h.order&&"undefined"!==typeof h.order_by)h.order=h.order_by+":"+h.order_dir||"asc";if(h.showContent=false,f.d.xhr["export"]=a.ajax({xhr:function(){var a=new window.XMLHttpRequest;return a.addEventListener("progress",function(a){if(a.lengthComputable){var b=a.loaded/a.total;console.log(parseInt(100*b))}},false),a},url:b[g+"Url"]()+f.d.urlSuffix,type:"GET",async:e,data:h,headers:{Authorization:"Bearer "+b.token().get(),Accept:"text/csv"},error:b.token().error()}),!e)return f.d.xhr["export"].responseJSON;return f.d.xhr["export"]},h.insert=h.insert||function(c,d,e){b.xhr[g+"Modified"]=true,b.xhr[g+"GetAfterFirstModified"]=true;var f=this;if(e=e||false,"undefined"!==typeof d)d=b.parseBoolean(d);else d=true;var h={url:b[g+"Url"]()+f.d.urlSuffix,type:"POST",dataType:"json",async:d,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()};var i=c;if(e)i=JSON.stringify(i),h.contentType="application/json";if(h.data=i,f.d.xhr.insert=a.ajax(h).done(function(){b.records.refresh()}),b.runEvents("insert",f,[f,g]),!d)return f.d.xhr.insert.responseJSON;return f.d.xhr.insert},h.insertSync=h.insertSync||function(a){return a=a||false,this.insert.apply(this,[a,false])},h.insertJson=h.insertJson||function(a){var a=a||false;return this.insert.apply(this,[a,true,true])},h.update=h.update||function(c,d,e,f){b.xhr[g+"Modified"]=true,b.xhr[g+"GetAfterFirstModified"]=true;var h=this;if(f=f||false,"undefined"!==typeof e)e=b.parseBoolean(e);else var e=true;var d=d||c.id||0;var i={url:b[g+"Url"]()+"/"+d+h.d.urlSuffix,type:"PATCH",dataType:"json",async:e,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()};var j=c;if(delete j.id,f)j=JSON.stringify(j),i.contentType="application/json";if(i.data=j,h.d.xhr.update=a.ajax(i),!e)return h.d.xhr.update.responseJSON;return h.d.xhr.update},h.updateSync=h.updateSync||function(a,b){var a=a||false;var b=b||false;return this.update.apply(this,[a,b,false])},h.updateJson=h.updateJson||function(a,b){var a=a||false;var b=b||false;return this.update.apply(this,[a,b,true,true])},h["delete"]=h["delete"]||function(c,d,e){b.xhr[g+"Modified"]=true,b.xhr[g+"GetAfterFirstModified"]=true;var f=this;if("undefined"!==typeof e)e=b.parseBoolean(e);else var e=true;var h={};var i=b[g+"Url"]()+"/"+c;if("undefined"!==typeof d)i+="?force=true";if(f.d.xhr["delete"]=a.ajax({url:i,type:"DELETE",dataType:"json",async:e,data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}).done(function(){b.records.refresh()}),!e)return f.d.xhr["delete"].responseJSON;return f.d.xhr["delete"]},h.deleteSync=h.deleteSync||function(a){var a=a||false;return this["delete"].apply(this,[a,true,false])},h.getAll=h.getAll||function(){var c=this;return c.d.xhr.getAll=a.ajax({url:b[g+"Url"]()+c.d.urlSuffix,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),c.d.xhr.getAll},h.getRecordById=h.getRecordById||function(c){var d=this;var e={};for(var f in d.d.option)if(false!==d.d.option[f])e[f]=d.d.option[f];if("undefined"===typeof e.order&&"undefined"!==typeof e.order_by)e.order=e.order_by+":"+e.order_dir||"asc";return d.d.xhr.getRecordById=a.ajax({url:b[g+"Url"]()+"/"+c+d.d.urlSuffix,type:"GET",dataType:"json",data:e,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),d.d.xhr.getRecordById},h.getFieldById=h.getFieldById||function(c,d){var e=this;var f=d.split(".");return e.d.xhr.getFieldById=a.ajax({url:b[g+"Url"]()+"/"+c+e.d.urlSuffix,type:"GET",dataType:"json",data:{fields:f[0],links:""},headers:{Authorization:"Bearer "+b.token().get()},converters:{"text json":function(b){var c=a.parseJSON(b)[f[0]];for(var d=1;d<f.length;d++)c=c[f[d]];return c}},error:b.token().error()}),e.d.xhr.getFieldById},h.getAllIdNamePair=h.getAllIdNamePair||function(c){var d=this;var e=c.split(".");return d.d.xhr.getAllIdNamePair=a.ajax({url:b[g+"Url"]()+d.d.urlSuffix,type:"GET",dataType:"json",data:{fields:"id,"+e[0],links:""},headers:{Authorization:"Bearer "+b.token().get()},converters:{"text json":function(b){var c=a.parseJSON(b);if("undefined"!==typeof c._embedded)c=c._embedded;c=c[Object.keys(c)[0]];var d=[];for(var f in c){var g=c[f][e[0]];for(var h=1;h<e.length;h++)g=g[e[h]];d.push([c[f].id,g])}return d}},error:b.token().error()}),d.d.xhr.getAllIdNamePair},h.urlSuffix=h.urlSuffix||function(a){var b=this;if("undefined"!==typeof a)return b.d.urlSuffix=a,b;return b.d.urlSuffix},h.itemsDir=h.itemsDir||function(a){var b=this;if("undefined"!==typeof a)return b.d.itemsDir=a,b;return b.d.itemsDir},h.fields=h.fields||function(a){var b=this;if("undefined"!==typeof a){if(false!==a&&a.length>0)b.d.option.fields=a;return b}return b.d.option.fields},h.limit=h.limit||function(a){var b=this;if("undefined"!==typeof a)return b.d.option.limit=a,b;return b.d.option.limit},h.searchFor=h.searchFor||function(a){var b=this;if("undefined"!==typeof a){if(""===a)a=false;return b.d.option.searchFor=a,b}return b.d.option.searchFor},h.format=h.format||function(a){var b=this;if("undefined"!==typeof a)return b.d.option.format=a,b;return b.d.option.format},h.page=h.page||function(a){var b=this;if("undefined"!==typeof a)return b.d.option.page=a,b;return b.d.option.page},h.where=h.where||function(a){var b=this;if("undefined"!==typeof a)return b.d.option.where=a,b;return b.d.option.where},h.orderBy=h.order_by=h.orderBy||h.order_by||function(a){var b=this;if("undefined"!==typeof a){if(false===a)return b;return b.d.option.order_by=a,b}return b.d.option.order_by},h.orderDir=h.order_dir=h.orderDir||h.order_dir||function(a){var b=this;if("undefined"!==typeof a){if(false===a)return b;return b.d.option.order_dir=a,b}return b.d.option.order_dir},h.order=h.order||function(a){var b=this;if("undefined"!==typeof a){if(false===a)return b;return b.d.option.order=a,b}return b.d.option.order},h.links=h.links||function(a){var b=this;if("undefined"!==typeof a)return b.d.option.links=a,b;return b.d.option.links},h.set=h.values=h.set||h.values||function(a,b){var c=this;if("string"===typeof a&&"undefined"!==typeof b)return c.d.option.set[a]=b,c;if("object"===typeof a||"array"===typeof a){for(var d in a)c.d.option.set[d]=a[d];return c}return c.d.option.set},h.customParameters=h.customParameters||function(a,b){var c=this;if("undefined"!==typeof a&&"undefined"!==typeof b)return c.d.customParameters={},c.d.customParameters[a]=b,c;if("object"===typeof a||"array"===typeof a){c.d.customParameters={};for(var d in a)c.d.customParameters[d]=a[d];return c}return c.d.customParameters},h.url=h.url||function(){return b[g+"Url"].apply(this,arguments)},b.createUrl(g)(e.url||"ping",!("undefined"!==typeof e.useBaseUrl&&false===e.useBaseUrl)),b.m[d]=c,b[g]=function(a){var b=new c(a);return b},b.d.data[g]={},b.xhr[g+"Running"]=false,b.xhr[g+"FirstRunCompleted"]=false,b.xhr[g+"Modified"]=false,b.xhr[g+"GetAfterFirstModified"]=false,b.xhr[g+"GetRunning"]=false,b["refresh"+d+"DefaultOptions"]={},b["refresh"+d]=function(a){var c=a||b["refresh"+d+"DefaultOptions"];b["refresh"+d+"DefaultOptions"]=c;var e=b[g](c);return b.xhr[g+"Running"]=true,b.xhr[g]=e.limit(2147483648).get().done(function(a){b.xhr[g+"FirstRunCompleted"]=true,b.xhr[g+"Running"]=false;var c;if(Array.isArray(a))c=a;else if(e.d.hasEmbedded)c=a._embedded[e.d.parentName];else c=a[e.d.parentName];for(var d=0;d<c.length;d++)if(e.d.hasId)b.d.data[g][c[d].id]=c[d];else b.d.data[g][c[d]]=c[d]}),b.xhr[g]},b["get"+d]=function(a){if(true===b.xhr[g+"Modified"]&&true===b.xhr[g+"GetAfterFirstModified"]){if(b.xhr[g+"GetAfterFirstModified"]=false,"undefined"!==typeof a)return b["refresh"+d](a).done(function(){b.xhr[g+"Modified"]=false,b.xhr[g+"GetRunning"]=false});return b["refresh"+d]().done(function(){b.xhr[g+"Modified"]=false,b.xhr[g+"GetRunning"]=false})}if(b.xhr[g+"GetRunning"])return b.xhr[g];if(b.xhr[g+"GetRunning"]=true,true===b.xhr[g+"FirstRunCompleted"]&&"undefined"===typeof a)return b.xhr[g];if("undefined"!==typeof a)return b["refresh"+d](a).done(function(){b.xhr[g+"GetRunning"]=false});return b["refresh"+d]().done(function(){b.xhr[g+"GetRunning"]=false})}}}(),function(){var c=function(a){var b=this;b.init(),b.initParameter(a||{})};var d=c.prototype;d.calculateByArray=function(c){var d=this;return a.ajax({url:d.url()+"/calculate"+d.d.urlSuffix,type:"GET",data:c,dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.calculateById=function(c){var d=this;return a.ajax({url:d.url()+"/"+c+"/calculate"+d.d.urlSuffix,type:"GET",data:{waitForResponse:true,saveAfterFinish:false},dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.calculateAndSave=function(c){var d=this;return a.ajax({url:d.url()+"/"+c+"/calculate"+d.d.urlSuffix,type:"GET",data:{waitForResponse:true,saveAfterFinish:true},dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},b.initBasicFunctions(c,"Segments",{url:"segments",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.init(),b.initParameter(a||{})};var d=c.prototype;d.getOpenStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getShareStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/shares"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getUnsubscribeStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/unsubscribes"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getBounceStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/bounces"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getGeoStatById=function(c,d,e){var f=this;var g={format:"raw"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/geo-locations"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;if("undefined"!==typeof f&&false!==f)h.step=f;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;if("undefined"!==typeof f&&false!==f)h.step=f;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDevicePieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"device"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDevicePieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"device"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDeviceTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"device"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDeviceTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"device"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenOsPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"os"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickOsPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"os"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenOsTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"os"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickOsTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"os"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenBrowserPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickBrowserPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenBrowserTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickBrowserTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getDomainTopListById=function(c,d,e,f){var g=this;var h={format:"raw"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;if("undefined"!==typeof f&&false!==f)h.limit=f;return a.ajax({url:g.url()+"/"+c+"/domains"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDomainListById=d.getOpenDomainPieById=function(c,d,e,f,g){var h=this;var i={format:"aggregate",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)i.from=d;if("undefined"!==typeof e&&false!==e)i.to=e;if("undefined"!==typeof f&&false!==f)i.limit=f;if("undefined"!==typeof g&&false!==g)i.uniqueContacts=g;return a.ajax({url:h.url()+"/"+c+"/opens"+h.d.urlSuffix,type:"GET",dataType:"json",data:i,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDomainListById=d.getClickDomainPieById=function(c,d,e,f,g){var h=this;var i={format:"aggregate",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)i.from=d;if("undefined"!==typeof e&&false!==e)i.to=e;if("undefined"!==typeof f&&false!==f)i.limit=f;if("undefined"!==typeof g&&false!==g)i.uniqueContacts=g;return a.ajax({url:h.url()+"/"+c+"/clicks"+h.d.urlSuffix,
type:"GET",dataType:"json",data:i,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDomainTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDomainTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getHeatMapById=function(c,d,e){var f=this;var g={format:"raw"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/heat-map"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getLinksById=function(c){var d=this;return a.ajax({url:d.url()+"/"+c+"/links",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getCombinedById=function(c,d){var e=this;return a.ajax({url:e.url()+"/"+c+"/combined",type:"POST",dataType:"json",data:d,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getStatisticsToPdfById=function(c){var d=this;return a.ajax({url:d.url()+"/"+c,type:"GET",headers:{Authorization:"Bearer "+b.token().get(),Accept:"application/pdf"},error:b.token().error()})},b.initBasicFunctions(c,"Campaigns",{url:"campaigns",useBaseUrl:true}),d.send=d.insert}(),function(){var c=function(a){var b=this;b.init(),b.initParameter(a||{})};var d=c.prototype;d.getOpenStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getShareStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/shares"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getUnsubscribeStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/unsubscribes"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getBounceStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/bounces"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getGeoStatById=function(c,d,e){var f=this;var g={format:"raw"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/geo-locations"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;if("undefined"!==typeof f&&false!==f)h.step=f;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;if("undefined"!==typeof f&&false!==f)h.step=f;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDevicePieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"device"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDevicePieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"device"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenOsPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"os"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickOsPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"os"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenBrowserPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickBrowserPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDomainPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDomainPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},b.initBasicFunctions(c,"SplitTests",{url:"split-tests",useBaseUrl:true}),d.send=d.insert}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;c.copy=function(a,b,c){var d=this;var b=b||{};b.copyData=b.copyData||{};var c=c||function(){};return d.getRecordById(a).done(function(a){var e={name:b.name||(b.copyData.prefix||"")+a.name+(b.copyData.suffix||""),subject:b.subject||a.subject,editorCode:b.editorCode||a.editorCode,htmlCode:b.htmlCode||a.htmlCode,maxWidth:b.maxWidth||a.maxWidth,tags:b.tags||a.tags};return d.insert(e).done(function(a){c.apply(d,[a])})})},b.initBasicFunctions(a,"Newsletters",{url:"newsletters",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={parentName:"emails"},b.init(),b.initParameter(a||{})};var c=a.prototype;c.copy=function(a,b,c){var d=this;var b=b||{};b.copyData=b.copyData||{};var c=c||function(){};return d.getRecordById(a).done(function(a){var e={name:b.name||(b.copyData.prefix||"")+a.name+(b.copyData.suffix||""),subject:b.subject||a.subject,editorCode:b.editorCode||a.editorCode,htmlCode:b.htmlCode||a.htmlCode,maxWidth:b.maxWidth||a.maxWidth,tags:b.tags||a.tags};return d.insert(e).done(function(a){c.apply(d,[a])})})},b.initBasicFunctions(a,"AutomationEmails",{url:"automations/emails",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={parentName:"transactionalEmails"},b.init(),b.initParameter(a||{})};var c=a.prototype;c.copy=function(a,b,c){var d=this;var b=b||{};b.copyData=b.copyData||{};var c=c||function(){};return d.getRecordById(a).done(function(a){var e={name:b.name||(b.copyData.prefix||"")+a.name+(b.copyData.suffix||""),subject:b.subject||a.subject,editorCode:b.editorCode||a.editorCode,htmlCode:b.htmlCode||a.htmlCode,maxWidth:b.maxWidth||a.maxWidth,tags:b.tags||a.tags};return d.insert(e).done(function(a){c.apply(d,[a])})})},b.initBasicFunctions(a,"TransactionalEmails",{url:"transactional",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={parentName:"transactionalEmails"},b.init(),b.initParameter(a||{})};var d=c.prototype;d.getOpenStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getShareStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/shares"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getUnsubscribeStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/unsubscribes"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getBounceStatById=function(c,d,e){var f=this;var g={format:"total"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/bounces"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getGeoStatById=function(c,d,e){var f=this;var g={format:"raw"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/geo-locations"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;if("undefined"!==typeof f&&false!==f)h.step=f;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;if("undefined"!==typeof f&&false!==f)h.step=f;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDevicePieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"device"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDevicePieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"device"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDeviceTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"device"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDeviceTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"device"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenOsPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"os"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickOsPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"os"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenOsTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"os"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickOsTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"os"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenBrowserPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/opens"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickBrowserPieById=function(c,d,e){var f=this;var g={format:"aggregate",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/clicks"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenBrowserTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickBrowserTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"browser"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getDomainTopListById=function(c,d,e,f){var g=this;var h={format:"raw"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;if("undefined"!==typeof f&&false!==f)h.limit=f;return a.ajax({url:g.url()+"/"+c+"/domains"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDomainListById=d.getOpenDomainPieById=function(c,d,e,f,g){var h=this;var i={format:"aggregate",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)i.from=d;if("undefined"!==typeof e&&false!==e)i.to=e;if("undefined"!==typeof f&&false!==f)i.limit=f;if("undefined"!==typeof g&&false!==g)i.uniqueContacts=g;return a.ajax({url:h.url()+"/"+c+"/opens"+h.d.urlSuffix,type:"GET",dataType:"json",data:i,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDomainListById=d.getClickDomainPieById=function(c,d,e,f,g){var h=this;var i={format:"aggregate",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)i.from=d;if("undefined"!==typeof e&&false!==e)i.to=e;if("undefined"!==typeof f&&false!==f)i.limit=f;if("undefined"!==typeof g&&false!==g)i.uniqueContacts=g;return a.ajax({url:h.url()+"/"+c+"/clicks"+h.d.urlSuffix,type:"GET",dataType:"json",data:i,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getOpenDomainTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/opens"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getClickDomainTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline",groupBy:"domain"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/clicks"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getHeatMapById=function(c,d,e){var f=this;var g={format:"raw"};if("undefined"!==typeof d&&false!==d)g.from=d;if("undefined"!==typeof e&&false!==e)g.to=e;return a.ajax({url:f.url()+"/"+c+"/heat-map"+f.d.urlSuffix,type:"GET",dataType:"json",data:g,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getLinksById=function(c){var d=this;return a.ajax({url:d.url()+"/"+c+"/links",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getCombinedById=function(c,d){var e=this;return a.ajax({url:e.url()+"/"+c+"/combined",type:"POST",dataType:"json",data:d,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getStatisticsToPdfById=function(c){var d=this;return a.ajax({url:d.url()+"/"+c,type:"GET",headers:{Authorization:"Bearer "+b.token().get(),Accept:"application/pdf"},error:b.token().error()})},d.send=function(c){var d=this;return a.ajax({type:"POST",url:d.url()+"/send",headers:{Authorization:"Bearer "+b.token().get()},data:c})},b.initBasicFunctions(c,"Transactional",{url:"transactional",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.init(),b.initParameter(a||{})};var d=c.prototype;d.getActivitiesById=function(c){var d=this;return a.ajax({url:d.url()+"/"+c+"/activities",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},b.initBasicFunctions(c,"Contacts",{url:"contacts",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"CustomFields",{url:"custom-fields",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.init(),b.initParameter(a||{})};var d=c.prototype;d["switch"]=function(c){var d=this;return a.ajax({url:d.url()+"/switch-site",type:"POST",data:{site:c},dataType:"json",headers:{Authorization:"Bearer "+b.token().get()}}).done(function(a){b.token().set(a),b.token().refreshLoopRestart()}).error(function(a){})},b.initBasicFunctions(c,"Users",{url:"users",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"Jobs",{url:"jobs",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"Webhooks",{url:"webhooks",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;c.copy=function(a,b,c){var d=this;var b=b||{};b.copyData=b.copyData||{};var c=c||function(){};return d.getRecordById(a).done(function(a){var e={name:b.name||(b.copyData.prefix||"")+a.name+(b.copyData.suffix||""),editorCode:b.editorCode||a.editorCode,htmlCode:b.htmlCode||a.htmlCode,maxWidth:b.maxWidth||a.maxWidth};return d.insert(e).done(function(a){c.apply(d,[a])})})},b.initBasicFunctions(a,"Templates",{url:"templates",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.init(),b.initParameter(a||{})};var d=c.prototype;d.getFullTimeLineById=function(c,d,e,f){var g=this;var h={format:"timeline"};if("undefined"!==typeof d&&false!==d)h.from=d;if("undefined"!==typeof e&&false!==e)h.to=e;return a.ajax({url:g.url()+"/"+c+"/conversion"+g.d.urlSuffix,type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},b.initBasicFunctions(c,"Forms",{url:"forms",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={xhr:{}},b.init(),b.d.xhr.getNodesById=false,b.d.xhr.insertNode=false,b.d.xhr.deleteNode=false,b.d.xhr.updateNode=false,b.d.xhr.acceptDraft=false,b.d.xhr.discardDraft=false,b.initParameter(a||{})};var d=c.prototype;d.getNodesById=function(c){var d=this;return d.d.xhr.getNodesById=a.ajax({url:b.automationsUrl()+"/"+c+"/nodes",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),d.d.xhr.getNodesById},d.insertNode=function(c,d){var e=this;return e.d.xhr.insertNode=a.ajax({url:b.automationsUrl()+"/"+d+"/nodes",type:"POST",dataType:"json",data:c,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),e.d.xhr.insertNode},d.deleteNode=function(c,d,e){var f=this;var g=false;var h="";if("undefined"!==typeof e)g=parseInt(e);if(0===g||1===g)h="?keep="+g;return f.d.xhr.deleteNode=a.ajax({url:b.automationsUrl()+"/"+c+"/nodes/"+d+h,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),f.d.xhr.deleteNode},d.updateNode=function(c,d,e){var f=this;return f.d.xhr.updateNode=a.ajax({url:b.automationsUrl()+"/"+d+"/nodes/"+e,type:"PATCH",dataType:"json",data:c,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),f.d.xhr.updateNode},d.acceptDraft=function(c){var d=this;return d.d.xhr.acceptDraft=a.ajax({url:b.automationsUrl()+"/"+c+"/accept-draft",type:"POST",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),d.d.xhr.acceptDraft},d.discardDraft=function(c){var d=this;return d.d.xhr.discardDraft=a.ajax({url:b.automationsUrl()+"/"+c+"/discard-draft",type:"POST",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),d.d.xhr.discardDraft},d.getCampaigns=function(){var c=this;return a.ajax({url:b.automationsUrl()+"/get-campaigns",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},moduleName="AutomationGetCampaigns",moduleNameLowerFirst="automationGetCampaigns",b.d.data[moduleNameLowerFirst]={},b.xhr[moduleNameLowerFirst+"Running"]=false,b["refresh"+moduleName]=function(){var a=b.automations();return b.xhr[moduleNameLowerFirst+"Running"]=true,b.xhr[moduleNameLowerFirst]=a.getCampaigns().done(function(a){b.xhr[moduleNameLowerFirst+"Running"]=false;var c=a;for(var d=0;d<c.length;d++)b.d.data[moduleNameLowerFirst][c[d].campaignId]=c[d]}),b.xhr[moduleNameLowerFirst]},b.initBasicFunctions(c,"Automations",{url:"automations",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.init(),b.initParameter(a||{})};var d=c.prototype;d.getContactsByIdAndType=function(c,d){var e=this;return a.ajax({url:e.url()+"/"+c+"/"+d,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getForbiddenContactsById=function(a){return this.getContactsByIdAndType(a,"creation-forbidden-errors")},d.getAlreadyInDatabaseContactsById=function(a){return this.getContactsByIdAndType(a,"already-in-database-errors")},d.getInvalidContactsById=function(a){return this.getContactsByIdAndType(a,"invalid-email-errors")},d.getUnsubscribedContactsById=function(a){return this.getContactsByIdAndType(a,"unsubscribed-errors")},b.initBasicFunctions(c,"ContactImports",{url:"contact-imports",useBaseUrl:true})}(),function(){var c=function(a){};var d=c.prototype;d.get=function(){return a.ajax({url:b.tagsUrl(),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()}})},b.createUrl("tags")("tags",true),b.m.Tags=c,b.tags=function(a){var b=new c(a);return b}}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"Milestones",{url:"milestones",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"LeadScores",{url:"lead-scores",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={hasEmbedded:false,hasId:false},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"ContactTags",{url:"contacts/tags",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={hasEmbedded:false},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"UnbounceForms",{url:"external/unbounce/forms",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={parentName:"forms"},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"AutoDetectedForms",{url:"forms/autodetect",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={parentName:"optimonkForms"},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"OptimonkForms",{url:"forms/optimonk",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"Invoices",{url:"invoices",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={hasEmbedded:true,hasId:false},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"ContactsTagManager",{url:"contacts/tag-manager",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={hasEmbedded:false,defaultKey:"AUTOMIZY",defaultGroup:"DEFAULT"},b.init(),b.initParameter(a||{})};var d=c.prototype;d.get=function(){var a=this;if(arguments.length<1)return a.getAll();else if(1===arguments.length)return a.getValuesByGroup(arguments[0]);return a.getValuesByGroupAndKey(arguments[0],arguments[1])},d.getAll=function(){var c=this;return a.ajax({url:c.url()+"/all",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getValuesByGroup=function(c){var d=this;return a.ajax({url:d.url()+"/"+c,type:"GET",dataType:"json",converters:{"text json":function(b){var d=a.parseJSON(b);if("undefined"===typeof d[c])return null;return d[c]}},headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getValuesByKey=function(c){var d=this;return a.ajax({url:d.url()+"/all/"+c,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getValuesByGroupAndKey=function(c,d){var e=this;return a.ajax({url:e.url()+"/"+c+"/"+d,type:"GET",dataType:"json",converters:{"text json":function(b){var e=a.parseJSON(b);if("undefined"===typeof e[c]||"undefined"===typeof e[c][d])return null;return e[c][d]}},headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.insert=function(){var c=this;var d="";var e={};if(arguments.length<1)return;else if(1===arguments.length)d=c.url()+"/"+c.d.defaultGroup+"/"+c.d.defaultKey,e={value:arguments[0]};else if(2===arguments.length)d=c.url()+"/"+arguments[0],e={value:arguments[1]};else d=c.url()+"/"+arguments[0]+"/"+arguments[1],e={value:arguments[2]};return c.d.xhr.insert=a.ajax({url:d,type:"POST",dataType:"json",data:e,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),b.runEvents("insert",c,[c,"localStorage"]),c.d.xhr.insert},b.initBasicFunctions(c,"LocalStorage",{url:"local-store",useBaseUrl:true})}(),function(){var c=function(a){};var d=c.prototype;d.get=function(){return a.ajax({url:b.accountUrl(),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()}})},d.limits=function(){return a.ajax({url:b.accountUrl()+"/limits",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()}})},d.getPackages=function(){return a.ajax({url:b.accountUrl()+"/limits",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()}})},b.createUrl("account")("account",true),b.m.Account=c,b.account=function(a){var b=new c(a);return b}}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"AccountStatistics",{url:"account/statistics",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.init(),b.initParameter(a||{})};var d=c.prototype;d.create=function(){var c=this;return a.ajax({url:c.url(),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()}})},b.initBasicFunctions(c,"Clients",{url:"clients",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.init(),b.initParameter(a||{})};var d=c.prototype;d.create=function(){var c=this;return a.ajax({url:c.url(),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()}})},d["delete"]=function(c){var d=this;return a.ajax({url:d.url()+"/"+c,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()}})},b.initBasicFunctions(c,"Tokens",{url:"oauth/tokens",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"Updates",{url:"updates",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"Plugins",{url:"plugins",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={hasEmbedded:false,parentName:"forms"},b.init(),b.initParameter(a||{})};var d=c.prototype;d.getPageById=function(c){var d=this;return a.ajax({url:b.forms2Url()+"/automizy/pages/"+c,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},b.initBasicFunctions(c,"Forms2",{url:"v2/forms",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={hasEmbedded:false,parentName:"forms"},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"UnbounceForms2",{url:"v2/forms/unbounce",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={hasEmbedded:false,parentName:"forms"},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"OptimonkForms2",{url:"v2/forms/optimonk",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={hasEmbedded:false},b.init(),b.initParameter(a||{})};var d=c.prototype;d.getFormEmailId=function(c){var d=this;return a.ajax({url:b.emailsUrl()+"/form/"+c,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()
},error:b.token().error()})},b.initBasicFunctions(c,"Emails",{url:"v2/emails",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={hasEmbedded:false,parentName:"campaigns"},b.init(),b.initParameter(a||{})};var d=c.prototype;d.preview=function(c,d){var e=this;return a.ajax({url:e.url()+"/"+d+"/preview"+e.d.urlSuffix,type:"POST",dataType:"json",data:{recipients:c},headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.send=function(c){var d=this;return a.ajax({url:d.url()+"/"+c+"/send"+d.d.urlSuffix,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.duplicate=function(c,d,e){var f=this;var g=a.Deferred();return f.getRecordById(c).done(function(a){var c;var f={attachments:a.attachments||null,code:a.code||{editor:"",html:""},embedImages:a.embedImages||false,name:a.name||"",notificationEmail:a.notificationEmail||null,reply:a.reply||{email:"help@automizy.com"},sender:a.sender||{email:"help@automizy.com",name:""},subject:a.subject||"",type:d||a.type||"BULK"};if("AUTOMATION"===f.type)a.automation=a.automation||{},f.automation={id:e||a.automation.id||0},c=b.automationCampaigns().insert(f).done(function(a){b.xhr.campaigns2Modified=true,b.xhr.campaigns2GetAfterFirstModified=true,g.resolveWith(c,[a])});else c=b.bulkCampaigns().insert(f).done(function(a){b.xhr.campaigns2Modified=true,b.xhr.campaigns2GetAfterFirstModified=true,g.resolveWith(c,[a])})}),g},d.getAllByPriorizedAutomation=function(c){var d=this;return a.ajax({url:d.url()+d.d.urlSuffix,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},data:{prioritizedAutomation:c},error:b.token().error()})},d.getImages=function(c,d){var e=this;c=c||false;var f=e.url()+"/fileManager"+e.d.urlSuffix;if(false!==c)f=e.url()+"/"+c+"/fileManager"+e.d.urlSuffix;return a.ajax({url:f,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},data:{where:[["extension","in",["png","jpg","jpeg","gif","bmp"]]],limit:d||100,order:"uploadedAt:desc"},error:b.token().error()})},b.initBasicFunctions(c,"Campaigns2",{url:"v2/campaigns",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={hasEmbedded:false,parentName:"templates"},b.init(),b.initParameter(a||{})};var d=c.prototype;d.getGlobalTemplates=function(){var c=this;return a.ajax({url:b.baseUrl()+"/v2/emails/globalTemplates",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getGlobalTemplateById=function(c){var d=this;return a.ajax({url:b.baseUrl()+"/v2/emails/globalTemplates/"+c,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},b.initBasicFunctions(c,"Templates2",{url:"v2/templates",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={xhr:{},hasEmbedded:false,parentName:"automations"},b.init(),b.d.xhr.getNodesById=false,b.d.xhr.acceptDraft=false,b.d.xhr.discardDraft=false,b.d.xhr.updateNodes=false,b.d.xhr.activate=false,b.d.xhr.inactivate=false,b.initParameter(a||{})};var d=c.prototype;d.getNodesById=function(c){var d=this;return d.d.xhr.getNodesById=a.ajax({url:b.automations2Url()+"/"+c+"/nodes",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),d.d.xhr.getNodesById},d.getNodeContacts=function(c,d,e,f,g){var h=this;e=e||false,f=f||false,g=g||false;var i={};if(false!==e)i.limit=e;if(false!==f)i.page=f;if(false!==g)i.searchFor=g;return a.ajax({url:h.url()+"/"+c+"/nodes/"+d+"/contacts",type:"GET",dataType:"json",data:i,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.discardDraft=function(c){var d=this;return d.d.xhr.discardDraft=a.ajax({url:b.automations2Url()+"/"+c+"/nodes",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),d.d.xhr.discardDraft},d.updateNodes=function(c,d){var e=this;return e.d.xhr.updateNodes=a.ajax({url:b.automations2Url()+"/"+d+"/nodes",type:"POST",dataType:"json",data:{nodes:c},headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),e.d.xhr.updateNodes},d.activate=function(c){var d=this;return d.d.xhr.activate=a.ajax({url:b.automations2Url()+"/"+c+"/activate",type:"POST",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),d.d.xhr.activate},d.inactivate=function(c){var d=this;return d.d.xhr.inactivate=a.ajax({url:b.automations2Url()+"/"+c+"/inactivate",type:"POST",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()}),d.d.xhr.inactivate},b.initBasicFunctions(c,"Automations2",{url:"v2/automations",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={hasEmbedded:false,parentName:"contactTags"},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"ContactTags",{url:"v2/contacts/tag-manager",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={hasEmbedded:false,parentName:"customFields"},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"CustomFields2",{url:"v2/custom-fields",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={hasEmbedded:false,parentName:"campaigns"},b.init(),b.initParameter(a||{})};var d=c.prototype;d.preview=function(c,d){var e=this;return a.ajax({url:e.url()+"/"+d+"/preview"+e.d.urlSuffix,type:"POST",dataType:"json",data:{recipients:c},headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.duplicate=function(a){var b=this;return b},d.getImages=function(c){var d=this;c=c||false;var e=d.url()+"/fileManager"+d.d.urlSuffix;if(false!==c)e=d.url()+"/"+c+"/fileManager"+d.d.urlSuffix;return a.ajax({url:e,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},data:{where:[["extension","in",["png","jpg","jpeg","gif","bmp"]]]},error:b.token().error()})},b.initBasicFunctions(c,"AutomationCampaigns",{url:"v2/campaigns/automation",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={hasEmbedded:false,parentName:"campaigns"},b.init(),b.initParameter(a||{})};var d=c.prototype;d.preview=function(c,d){var e=this;return a.ajax({url:e.url()+"/"+d+"/preview"+e.d.urlSuffix,type:"POST",dataType:"json",data:{recipients:c},headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.duplicate=function(a){var b=this;return b},d.getImages=function(c){var d=this;c=c||false;var e=d.url()+"/fileManager"+d.d.urlSuffix;if(false!==c)e=d.url()+"/"+c+"/fileManager"+d.d.urlSuffix;return a.ajax({url:e,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()},data:{where:[["extension","in",["png","jpg","jpeg","gif","bmp"]]]},error:b.token().error()})},b.initBasicFunctions(c,"BulkCampaigns",{url:"v2/campaigns/bulk",useBaseUrl:true})}(),function(){var a=function(a){var b=this;b.d={hasEmbedded:false,parentName:"segments"},b.init(),b.initParameter(a||{})};var c=a.prototype;b.initBasicFunctions(a,"Segments2",{url:"v2/segments",useBaseUrl:true})}(),function(){var c=function(a){var b=this;b.d={hasEmbedded:false,parentName:"smartLists"},b.init(),b.initParameter(a||{})};var d=c.prototype;d.getContactsById=function(c,d,e,f){var g=this;d=d||false,e=e||false,f=f||false;var h={};if(false!==d)h.limit=d;if(false!==e)h.page=e;if(false!==f)h.searchFor=f;return a.ajax({url:g.url()+"/"+c+"/contacts",type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getContactById=function(c,d){var e=this;var f={};return a.ajax({url:e.url()+"/"+c+"/contacts/"+d,type:"GET",dataType:"json",data:f,headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getPermanentlyRemovedCount=function(c,d,e,f,g){var h=this;c=c||false,d=d||[],e=e||"select",f=f||false,g=g||false;var i={};if(false===c)return false;if(i.selector={type:e,selection:d},false!==f)i.searchFor=f;if(false!==g)i.filter=g;return a.ajax({url:h.url()+"/"+c+"/contacts/permanently-remove-count",type:"POST",dataType:"json",data:JSON.stringify(i),contentType:"application/json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.deleteContacts=function(c,d,e,f,g){var h=this;c=c||false,d=d||[],e=e||"select",f=f||false,g=g||false;var i={};if(false===c)return false;if(i.selector={type:e,selection:d},false!==f)i.searchFor=f;if(false!==g)i.filter=g;return a.ajax({url:h.url()+"/"+c+"/contacts/remove",type:"POST",dataType:"json",data:JSON.stringify(i),contentType:"application/json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.addContact=function(c,d){var e=this;if(c=c||false,d=d||false,false===c||false===d)return false;return a.ajax({url:e.url()+"/"+c+"/contacts",type:"POST",dataType:"json",data:JSON.stringify({contacts:[d]}),contentType:"application/json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getFilterContactsByCriteria=function(c,d,e,f){var g=this;var h=d.searchFor||"";var i=d.searchOperator||"CONTAINS";e=e||false,f=f||false;var j={};if(false!==e)j.limit=e;if(false!==f)j.page=f;if("CONTAINS"!==i||"CONTAINS"===i&&""!==h)j.searchFor=h||"",j.searchOperator=i;var k="?"+a.param(j);return a.ajax({url:g.url()+"/"+c+"/filters/calculate"+k,type:"POST",dataType:"json",data:JSON.stringify({criterion:d.criterion}),contentType:"application/json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getFilterById=function(c,d){var e=this;return a.ajax({url:e.url()+"/"+c+"/filters/"+d,type:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.getImportsById=function(c){var d=this;return a.ajax({url:d.url()+"/"+c+"/imports",type:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.insertFilterByCriteria=function(c,d,e){var f=this;return a.ajax({url:f.url()+"/"+c+"/filters",type:"POST",dataType:"json",data:JSON.stringify({name:d,criterion:e.criterion||e}),contentType:"application/json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.updateFilterCriteria=function(c,d,e){var f=this;return a.ajax({url:f.url()+"/"+c+"/filters/"+d,type:"PATCH",dataType:"json",data:JSON.stringify({criterion:e.criterion||e}),contentType:"application/json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.updateFilterName=function(c,d,e){var f=this;return a.ajax({url:f.url()+"/"+c+"/filters/"+d,type:"PATCH",dataType:"json",data:JSON.stringify({name:e}),contentType:"application/json",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},d.deleteFilterById=function(c,d){var e=this;return a.ajax({url:e.url()+"/"+c+"/filters/"+d,type:"DELETE",headers:{Authorization:"Bearer "+b.token().get()},error:b.token().error()})},b.initBasicFunctions(c,"SmartLists",{url:"v2/smart-lists",useBaseUrl:true})}(),function(){b.parseBoolean=function(a,b){if("string"===typeof a)a=a.toLowerCase();switch(a){case true:case"true":case 1:case"1":case"on":case"yes":case"y":case"\u2713":case"\u2714":case"\u2611":case"\u2612":a=true;break;case false:case"false":case 0:case"0":case"off":case"no":case"n":case"x":case"\u2717":case"\u2718":case"\u2610":a=false;break;default:if(b)a=null;else a=false}return a}}(),function(){b.refreshTable=function(c){if("undefined"===typeof c||false===c)return false;var d=c.data("apiName");if("undefined"===typeof b[d])return false;var e=c.data("apiUrlSuffix");var f=c.data("apiItemsDir");var g=c.data("apiElementsDir");var h=c.data("apiFormat");var i=c.data("refreshComplete");var j=c.d.orderBy;var k=c.d.orderDir;var l=c.perPage();var m=c.page();var n=c.data("fields")||false;var o=false;var p=c.data("where")||[];var q=false;if("function"===typeof c.data("whereFunction")){var r=c.data("whereFunction")();if(false!==r)q=c.data("whereFunction")()}if("undefined"!==typeof c.data("xhr"))c.data("xhr").abort();if("undefined"===typeof e)e="";if("undefined"===typeof f)f=false;if("undefined"===typeof g)g=false;if("undefined"===typeof h)h=false;if("function"!==typeof i)i=function(){};if(false===n){n=[];var s=c.cols();for(var t=c.selectable()?1:0;t<s.length;t++)if(s[t].active())n.push(s[t].name());if(a.inArray("id",n)===-1)n.push("id");else o=true;n=n.join()}else n=JSON.stringify(n);if(("string"===typeof c.d.searchValue||"number"===typeof c.d.searchValue)&&c.d.searchValue.length>0){var s=c.cols();for(var t=0;t<s.length;t++){var u=c.d.settings.cols;var v={};for(var w=0;w<u.length;w++)v[u[w].name||0]=false===u[w].searchable?false:true;var x=s[t].name();if(v[x]){var y=[[x,"like","%"+c.d.searchValue+"%"]];if(false!==q)for(var w=0;w<q.length;w++)y.push(q[w]);p.push(y)}}}else if(false!==q)p.push(q);c.d.$checkboxCheckAll.prop("checked",false).change(),c.loading();var z=b[d]().links("").fields(n).limit(l).page(m).where(p).orderBy(j).orderDir(k).urlSuffix(e).format(h).get().done(function(b){c.pageMax(b.page_count||b.pageCount||0),c.totalEntries(b.total_items||b.totalItems||0),c.writeEntries();var e;if(false!==f){var h=f.split("/");e=b;for(var j=0;j<h.length;j++)e=e[h[j]]}else if("undefined"===typeof b._embedded)e=b[d];else e=b._embedded[d];var k=e.length;var l=[];for(var j=0;j<k;j++){var m=e[j];if(false!==g)m=e[j][g];var n={recordId:m.id||0,values:{}};for(var p in m){if("_"===p.charAt(0)||"id"===p&&!o)continue;if(null!==m[p]&&("object"===typeof m[p]||"array"===typeof m[p]))if(a.isArray(m[p]))n.values[p]=m[p];else{var q=false;var r=0;var s=false;var t=0;var u=false;for(var v in m[p]){if("date"===v||"timezone"===v||"timezone_type"===v)r++;if("code"===v||"value"===v)t++;if(q=false,s=false,u=false,3===r)q=true;else if(2==t)s=true;else if("customFields"===p)u=true}if(q)n.values[p]=m[p].date||m[p][Object.keys(m[p])[0]]||"";else if(s)n.values[p]=m[p].value||m[p][Object.keys(m[p])[0]]||"";else if(u)for(var w in m[p])if(null!==m[p][w]&&("array"===typeof m[p][w]||"object"===typeof m[p][w]))if(a.isArray(m[p][w]))n.values["customFields."+w]=m[p][w];else n.values["customFields."+w]=m[p][w].date||m[p][w].value||m[p][w][Object.keys(m[p][w])[0]]||"";else n.values["customFields."+w]=m[p][w];else n.values[p]=m[p]}else n.values[p]=m[p]}l.push(n)}c.data({records:e}),c.deleteRows();var x=c.getColByName("customFields");if(false!==x&&"function"===typeof x.$cells)x.$cells().css("display","none");c.rows(l),c.d.stepFunction(),setTimeout(function(){i.apply(c,[c,c.d.$widget])},10)});return c.data("xhr",z),z}}(),function(){b.exportTable=function(a,c){if("undefined"===typeof a)return false;var c=c||{};var d=a.data("apiName");var e=a.data("apiUrlSuffix");var f=a.data("exportFields")||[];if(f instanceof Array)if(f.length>0)f=f.join(",");else f=false;else f=JSON.stringify(f);var g=a.d.orderBy;var h=a.d.orderDir;if("undefined"===typeof e)e="";var i=[];if(("string"===typeof c.search||"number"===typeof c.search)&&c.search.length>0){var j=a.cols();for(var k=0;k<j.length;k++){var l=a.d.settings.cols;var m={};for(var n=0;n<l.length;n++)m[l[n].name||0]=false===l[n].searchable?false:true;var o=j[k].name();if(m[o])i.push([[o,"like","%"+c.search+"%"]])}}if("undefined"!==typeof c.ids)if(i.length>0)for(var k=0;k<i.length;k++)i[k].push(["id","in",c.ids]);else i.push([["id","in",c.ids]]);var p=b[d]().orderBy(g).orderDir(h).fields(f).where(i).urlSuffix(e)["export"]().done(function(a,b,c){window.location.href=c.getResponseHeader("X-Download-Url")})}}(),function(){b.dataToOptions=function(b,c,d){var c=c||"name";var d=d||"id";return a.map(b,function(a){return[[a[d],a[c]]]})}}(),function(){b.convertToObj=function(a,b){var b=b||"id";var c={};for(var d=0;d<a.length;d++)c[a[d][b]]=a[d];return c}}(),function(){b.downloadContent=function(b,c){var d="download"in document.createElement("a");if(d){var e=a("<a></a>");e.attr({href:"data:attachment/csv,"+encodeURI(b),target:"_blank",download:c})[0].click(),setTimeout(function(){e.remove()},50)}else if("undefined"!==typeof safari)window.open("data:attachment/csv,"+encodeURI(b));else if(window.navigator.msSaveOrOpenBlob){var f=new Blob([b],{type:"text/plain"});navigator.msSaveBlob(f,c)}else alert($A.translate("Your browser is not supported the csv export."))}}(),function(){b.addEvent=function(a,c){if("undefined"!==typeof a&&"function"===typeof c){if("undefined"===typeof b.events[a])b.events[a]=[];b.events[a].push(c)}return b}}(),function(){b.runEvents=function(a,c,d){if("undefined"!==typeof b.events[a])for(var e=0;e<b.events[a].length;e++)b.events[a][e].apply(c,d);return b}}(),function(){var c=function(a){var b=this;b.d={},b.d.xhr=false,b.d.hasRecords={}};var d=c.prototype;d.hasRecords=function(a,b){var c=this;if("undefined"!==typeof b)return c.d.hasRecords[a]=b,c;if("undefined"===typeof c.d.hasRecords[a])return true;return c.d.hasRecords[a]},d.refresh=function(){var c=this;return a.ajax({url:b.recordsUrl(),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+b.token().get()}}).done(function(a){for(var d in a)c.d.hasRecords[d]=b.parseBoolean(a[d])})},d.refreshOne=function(c){var d=this;return a.ajax({url:b.recordsUrl(),type:"GET",dataType:"json",data:{fields:[c]},headers:{Authorization:"Bearer "+b.token().get()}}).done(function(a){for(var c in a)d.d.hasRecords[c]=b.parseBoolean(a[c])})},b.createUrl("records")("v2/resource-availability",true),b.m.Records=c,b.records=new c}(),function(){b.createUrl("account")("account",true)}(),window.$AA=b,window.AutomizyJsApi=b})($);
//# sourceMappingURL=automizy.api.min.map